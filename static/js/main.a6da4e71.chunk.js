(window["webpackJsonpgo-game"]=window["webpackJsonpgo-game"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),s=a.n(i),o=(a(19),a(4)),c=a(5),l=a(7),u=a(6),d=a(8);a(20);var h=function(e){return r.a.createElement("div",{className:"Menu"},r.a.createElement("div",{className:"Menu-GO Menu-G Menu-grid-elem"},r.a.createElement("h1",{className:"Menu-logo-text"},"G")),r.a.createElement("div",{className:"Menu-GO Menu-O Menu-grid-elem"},r.a.createElement("h1",{className:"Menu-logo-text"},"O")),r.a.createElement("div",{className:"Menu-label1 Menu-grid-elem"},"Select Board"),r.a.createElement("div",{className:"Menu-label2 Menu-grid-elem"},"Size"),r.a.createElement("button",{className:"Menu-board-type Menu-btn-1 Menu-grid-elem",onClick:function(){e.handleChoice(9)}},"9"),r.a.createElement("button",{className:"Menu-board-type Menu-btn-2 Menu-grid-elem",onClick:function(){e.handleChoice(13)}},"13"),r.a.createElement("button",{className:"Menu-board-type Menu-btn-3 Menu-grid-elem",onClick:function(){e.handleChoice(19)}},"19"))};a(21);var f=function(e){return r.a.createElement("div",{className:"MenuMobile"},r.a.createElement("h1",{className:"GO-header"},"GO"),r.a.createElement("div",{className:"MenuMobile-board-types-box"},r.a.createElement("button",{className:"MenuMobile-board-type",onClick:function(){e.handleChoice(9)}},"9"),r.a.createElement("button",{className:"MenuMobile-board-type",onClick:function(){e.handleChoice(9)}},"13"),r.a.createElement("button",{className:"MenuMobile-board-type",onClick:function(){e.handleChoice(9)}},"19")),r.a.createElement("footer",null,"\xa9 Bart\u0142omiej Pogodzi\u0144ski 2019"))},m=a(3),b=(a(22),a(23),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={possible:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getPossible",value:function(){"none"===this.props.fieldType&&this.setState({possible:this.props.handleHover()})}},{key:"render",value:function(){var e="";return"black"===this.props.fieldType?e+=" Field-black Field-taken":"white"===this.props.fieldType?e+=" Field-white Field-taken":this.state.possible&&(e+=" Field-possible"),r.a.createElement("div",{className:"Field"+e,onClick:this.props.handleClick,onMouseOver:this.getPossible.bind(this)})}}]),t}(r.a.Component));function p(e,t,a){var n={up:!0,right:!0,down:!0,left:!0};return 0===e&&(n.up=!1),t===a-1&&(n.right=!1),e===a-1&&(n.down=!1),0===t&&(n.left=!1),n}var v=function(e){return r.a.createElement("div",{className:"Board"},e.board.map((function(t,a){return r.a.createElement("div",{className:"Board-row",key:a.toString()}," ",t.map((function(t,n){return r.a.createElement(b,{fieldType:t,key:a.toString()+" "+n.toString(),fieldConnections:p(a,n,e.boardSize),handleClick:function(){return e.handleClick(a,n)},handleHover:function(){return e.handleFieldHover(a,n)}})})))})))};a(24);var y=function(e){var t="PassButton",a=!1,n="none"!==e.winner,i="pass";return"black"===e.color&&(t+=" PassButton-black"),"white"===e.color&&(t+=" PassButton-white"),n?(i=e.score,t+=" PassButton-finished",e.winner===e.color?t+=" PassButton-winner":t+=" PassButton-looser"):e.color===e.player&&(t+=" PassButton-active",a=!0),r.a.createElement("button",{className:t,onClick:function(){a&&e.handleClick()}},r.a.createElement("div",{className:"PassButton-content"},i))};a(25);function k(e,t){return e.map((function(e,a){return e.map((function(e,n){return e||t[a][n]}))}))}function g(e){return"none"===e?"none":"black"===e?"white":"black"}function w(e,t,a,n,r){var i=r[e][t],s=[],o=JSON.parse(JSON.stringify(a));if(o[e][t]=!0,e+1<n&&e+1>=0&&!1===o[e+1][t]){var c=r[e+1][t];if(c===i){var l,u=w(e+1,t,o,n,r);o=u.checkedBoard,(l=s).push.apply(l,Object(m.a)(u.surroundings))}else s.push(c)}if(e-1<n&&e-1>=0&&!1===o[e-1][t]){var d=r[e-1][t];if(d===i){var h,f=w(e-1,t,o,n,r);o=f.checkedBoard,(h=s).push.apply(h,Object(m.a)(f.surroundings))}else s.push(d)}if(t+1<n&&t+1>=0&&!1===o[e][t+1]){var b=r[e][t+1];if(b===i){var p,v=w(e,t+1,o,n,r);o=v.checkedBoard,(p=s).push.apply(p,Object(m.a)(v.surroundings))}else s.push(b)}if(t-1<n&&t-1>=0&&!1===o[e][t-1]){var y=r[e][t-1];if(y===i){var k,g=w(e,t-1,o,n,r);o=g.checkedBoard,(k=s).push.apply(k,Object(m.a)(g.surroundings))}else s.push(y)}return{surroundings:s=Array.from(new Set(s)),checkedBoard:o}}function E(e,t,a,n,r){var i=Array(a).fill(Array(a).fill(!1)),s=Array(a).fill(Array(a).fill(!1)),o=!1,c=JSON.parse(JSON.stringify(n));if(c[e][t]=r,e+1<a&&c[e+1][t]===g(r)){var l=w(e+1,t,i,a,c),u=l.surroundings,d=l.checkedBoard;!1===u.includes("none")&&(o=!0,s=k(s,d))}if(e-1>=0&&c[e-1][t]===g(r)){var h=w(e-1,t,i,a,c),f=h.surroundings,m=h.checkedBoard;!1===f.includes("none")&&(o=!0,s=k(s,m))}if(t+1<a&&c[e][t+1]===g(r)){var b=w(e,t+1,i,a,c),p=b.surroundings,v=b.checkedBoard;!1===p.includes("none")&&(o=!0,s=k(s,v))}if(t-1>=0&&c[e][t-1]===g(r)){var y=w(e,t-1,i,a,c),E=y.surroundings,O=y.checkedBoard;!1===E.includes("none")&&(o=!0,s=k(s,O))}return{isCapture:o,capturedBoard:s}}function O(e,t,a,n,r){return function(e,t,a,n){var r=a.length,i=JSON.parse(JSON.stringify(a));i[e][t]=n;var s=Array(r).fill(Array(r).fill(!1));if(!1===w(e,t,s,r,i).surroundings.includes("none")){if(e+1<r&&i[e+1][t]===g(n))if(!1===w(e+1,t,s,r,i).surroundings.includes("none"))return!0;if(e-1>=0&&i[e-1][t]===g(n))if(!1===w(e-1,t,s,r,i).surroundings.includes("none"))return!0;if(t+1<r&&i[e][t+1]===g(n))if(!1===w(e,t+1,s,r,i).surroundings.includes("none"))return!0;if(t-1>=0&&i[e][t-1]===g(n))if(!1===w(e,t-1,s,r,i).surroundings.includes("none"))return!0;return!1}return!0}(e,t,a,r)&&function(e,t,a,n,r){var i=a.length,s=JSON.parse(JSON.stringify(a)),o=JSON.parse(JSON.stringify(n));s[e][t]=r;var c=E(e,t,i,s,r);return!c.isCapture||(c.capturedBoard.forEach((function(e,t){return e.forEach((function(e,a){e&&(s[t][a]="none")}))})),!o.some((function(e){return JSON.stringify(e)===JSON.stringify(s)})))}(e,t,a,n,r)}var S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={player:"black",boardSize:a.props.boardSize,board:Array(a.props.boardSize).fill(Array(a.props.boardSize).fill("none")),boardHistory:[],passCounter:0,isWin:!1,winner:"none",blackScore:0,whiteScore:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"makeMove",value:function(e,t){if(!1===this.state.isWin&&"none"===this.state.board[e][t]&&O(e,t,this.state.board,this.state.boardHistory,this.state.player)){var a=this.state.player,n=JSON.parse(JSON.stringify(this.state.board));n[e][t]=a;var r=E(e,t,n.length,n,a);r.isCapture&&(n=n.map((function(e,t){return e.map((function(e,a){return r.capturedBoard[t][a]?"none":e}))})));var i="none";"white"===this.state.player&&(i="black"),"black"===this.state.player&&(i="white"),this.setState({boardHistory:[].concat(Object(m.a)(this.state.boardHistory),[this.state.board]),board:n,player:i,passCounter:0})}}},{key:"passMove",value:function(){if(!1===this.state.isWin){var e=this.state.passCounter>=1;if(this.setState({boardHistory:[].concat(Object(m.a)(this.state.boardHistory),[this.state.board]),player:e?"none":g(this.state.player),passCounter:this.state.passCounter+1,isWin:e}),e){var t=function(e){var t=JSON.parse(JSON.stringify(e)),a=t.length,n=0,r=0,i=Array(a).fill(Array(a).fill(!1)),s=Array(a).fill(Array(a).fill(!1));return t.forEach((function(e,o){return e.forEach((function(e,c){if("black"===e&&(n+=1),"white"===e)r+=1;else if(!1===i[o][c]){var l=w(o,c,s,a,t),u=l.surroundings,d=l.checkedBoard;if(i=k(i,d),1===u.length){for(var h=0,f=0;f<a;f+=1)for(var m=0;m<a;m+=1)h+=d[f][m]?1:0;u.includes("black")?n+=h:u.includes("white")&&(r+=h)}}}))})),{white:r+7.5,black:n}}(this.state.board),a=t.black-t.white>0?"black":"white";this.setState({winner:a,whiteScore:t.white,blackScore:t.black})}}}},{key:"render",value:function(){var e=this,t="Game";return!0===this.state.isWin&&(t+=" Game-"+this.state.winner+"-won"),r.a.createElement("div",{className:t},r.a.createElement("div",{className:"Game-pass Game-pass-black"},r.a.createElement(y,{handleClick:this.passMove.bind(this),player:this.state.player,color:"black",winner:this.state.winner,score:this.state.blackScore})),r.a.createElement("div",{className:"Game-pass Game-pass-white"},r.a.createElement(y,{handleClick:this.passMove.bind(this),player:this.state.player,color:"white",winner:this.state.winner,score:this.state.whiteScore})),r.a.createElement("div",{className:"Game-board"+(this.state.isWin?" Game-board-win":"")},r.a.createElement(v,{board:this.state.board,boardSize:this.state.boardSize,handleClick:this.makeMove.bind(this),handleFieldHover:function(t,a){return O(t,a,e.state.board,e.state.boardHistory,e.state.player)}})))}}]),t}(r.a.Component),N=a(13),C=(a(29),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={interfaceType:"menu",boardSize:9},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChoice",value:function(e){this.setState({boardSize:e,interfaceType:"game"})}},{key:"render",value:function(){var e=this,t=r.a.createElement(N.a,{queries:{small:"(max-width: 599px)",medium:"(min-width: 600px) and (max-width: 1299px)",large:"(min-width: 1300px)"}},(function(t){return r.a.createElement(n.Fragment,null,t.small&&r.a.createElement(f,{handleChoice:e.handleChoice.bind(e)}),t.medium&&r.a.createElement(f,{handleChoice:e.handleChoice.bind(e)}),t.large&&r.a.createElement(h,{handleChoice:e.handleChoice.bind(e)}))}));return"game"===this.state.interfaceType&&(t=r.a.createElement(S,{boardSize:this.state.boardSize})),r.a.createElement("div",{className:"Interface"},t)}}]),t}(r.a.Component));var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.a6da4e71.chunk.js.map